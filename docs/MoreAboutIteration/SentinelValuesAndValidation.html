<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>8.8. Other uses of while &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.9. Algorithms Revisited" href="AlgorithmsRevisited.html" />
    <link rel="prev" title="8.7. The Accumulator Pattern Revisited" href="accumulatorRevisited.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'thinkcspy';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "4.0.1";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'thinkcspy';
  eBookConfig.runestone_version = '3.0.5';
</script>
<style>
.navLink{
	display: block;
  position: static;
  font-size: 3rem;
}

@media (max-width: 600px) {
    /* Styling definitions for chevron function in bookfuncs.js */
	.navLink{
		display: block;
	}
}

#relations-next {
  float: right;
}

#relations-prev {
  float: left;
}

.navLink a {
	color: #999;
}
</style>

  </head>
  <body>



<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="other-uses-of-while">
<span id="index-0"></span><h1>8.8. Other uses of <code class="docutils literal"><span class="pre">while</span></code><a class="headerlink" href="#other-uses-of-while" title="Permalink to this headline">¶</a></h1>
<div class="section" id="sentinel-values">
<h2>8.8.1. Sentinel Values<a class="headerlink" href="#sentinel-values" title="Permalink to this headline">¶</a></h2>
<p>Indefinite loops are much more common in the real world than definite loops.</p>
<ul class="simple">
<li>If you are selling tickets to an event, you don’t know in advance how
many tickets you will sell. You keep selling tickets as long as people come
to the door and there’s room in the hall.</li>
<li>When the baggage crew unloads a plane, they don’t know in advance how many
suitcases there are. They just keep unloading while there are bags left in the
cargo hold. (Why <em>your</em> suitcase is always the last one is an entirely different problem.)</li>
<li>When you go through the checkout line at the grocery, the clerks don’t
know in advance how many items there are. They just keep ringing up items as
long as there are more on the conveyor belt.</li>
</ul>
<p>Let’s implement the last of these in Python, by asking the user for prices and
keeping a running total and count of items. When the last item is entered,
the program gives the grand total, number of items, and average price.
We’ll need these variables:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">total</span></code> - this will start at zero</li>
<li><code class="docutils literal"><span class="pre">count</span></code> - the number of items, which also starts at zero</li>
<li><code class="docutils literal"><span class="pre">moreItems</span></code> - a boolean that tells us whether more items are waiting; this starts as True</li>
</ul>
<p>The pseudocode (code written half in English, half in Python) for the body of the loop
looks something like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">moreItems</span>
    <span class="n">ask</span> <span class="k">for</span> <span class="n">price</span>
    <span class="n">add</span> <span class="n">price</span> <span class="n">to</span> <span class="n">total</span>
    <span class="n">add</span> <span class="n">one</span> <span class="n">to</span> <span class="n">count</span>
</pre></div>
</div>
<p>This pseudocode has no option to set <code class="docutils literal"><span class="pre">moreItems</span></code> to <code class="docutils literal"><span class="pre">False</span></code>, so it would run forever.
In a grocery store, there’s a little
plastic bar that you put after your last item to separate your groceries from
those of the person behind you; that’s how the clerk knows you have no more items.
We don’t have a “little plastic bar” data type in Python, so we’ll do the next best thing: we
will use a <code class="docutils literal"><span class="pre">price</span></code> of zero to mean “this is my last item.” In this program,
zero is a <strong>sentinel value</strong>, a value used to signal the end of the loop. Here’s the code:</p>

<div data-childcomponent="ch07_sentinel" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=ch07_sentinel data-lang="python"    data-timelimit=60  data-codelens="true" data-audio=''     >
def checkout():
    total = 0
    count = 0
    moreItems = True
    while moreItems:
        price = float(input('Enter price of item (0 when done): '))
        if price != 0:
            count = count + 1
            total = total + price
            print('Subtotal: $', total)
        else:
            moreItems = False
    average = total / count
    print('Total items:', count)
    print('Total $', total)
    print('Average price per item: $', average)

checkout()
</textarea>
</div>
<p>There are still a few problems with this program.</p>
<ul class="simple">
<li>If you enter a negative number, it will be added to the total and count. Modify the code
so that negative numbers give an error message instead (but don’t end the loop) Hint: <code class="docutils literal"><span class="pre">elif</span></code> is
your friend.</li>
<li>If you enter zero the first time you are asked for a price, the loop will end, and the program
will try to divide by zero. Use an <code class="docutils literal"><span class="pre">if</span></code>/<code class="docutils literal"><span class="pre">else</span></code> statement outside the loop to avoid the
division by zero and tell the user that you can’t compute an average without data.</li>
<li>This program doesn’t display the amounts to two decimal places. In the next chapter you will
see the <a class="reference internal" href="../Strings/StringMethods.html#format-strings"><span class="std std-ref">String Format Method</span></a> that will do the trick.</li>
</ul>
</div>
<div class="section" id="validating-input">
<span id="index-1"></span><h2>8.8.2. Validating Input<a class="headerlink" href="#validating-input" title="Permalink to this headline">¶</a></h2>
<p>You can also use a <code class="docutils literal"><span class="pre">while</span></code> loop when you want to <strong>validate</strong> input;  when you want to make
sure the user has entered valid input for a prompt. Let’s say you want a function
that asks a yes-or-no question. In this case, you want to make sure that the person using
your program enters either a Y for yes or N for no (in either upper or lower case).
Here is a program that uses a <code class="docutils literal"><span class="pre">while</span></code> loop to keep asking until it receives a valid answer.
As a preview of coming attractions, it uses
the <code class="docutils literal"><span class="pre">upper()</span></code> method which is described in <a class="reference internal" href="../Strings/StringMethods.html#stringmethods"><span class="std std-ref">String Methods</span></a> to convert a string to upper case.
When you run the following code, try typing something other than Y or N to see how the code reacts:</p>

<div data-childcomponent="ch07_validation" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=ch07_validation data-lang="python"    data-timelimit=60  data-codelens="true" data-audio=''     >
def get_yes_or_no(message):
    valid_input = False
    while not valid_input:
        answer = input(message)
        answer = answer.upper() # convert to upper case
        if answer == 'Y' or answer == 'N':
            valid_input = True
        else:
            print('Please enter Y for yes or N for no.')
    return answer

response = get_yes_or_no('Do you like lima beans? Y)es or N)o: ')
if response == 'Y':
    print('Great! They are very healthy.')
else:
    print('Too bad. If cooked right, they are quite tasty.')
</textarea>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 8.7. The Accumulator Pattern Revisited' data-toggle="tooltip">
    <a href="accumulatorRevisited.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>

  <li id="relations-next" class="navLink" title='Next Section - 8.9. Algorithms Revisited' data-toggle="tooltip" >
    <a href="AlgorithmsRevisited.html" style="color:#999">
      Next Section - 8.9. Algorithms Revisited
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <li class="navLink" style="text-align: center" title='8. More About Iteration' data-toggle="tooltip" >
    <a href="../CMPS5P/l8.html">
      <i id="relationsNextIcon"  class='nextNav glyphicon glyphicon-chevron-up'></i>
    </a>
  </li>


<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<p style="line-height: 2em">&nbsp;</p>

  </body>
</html>