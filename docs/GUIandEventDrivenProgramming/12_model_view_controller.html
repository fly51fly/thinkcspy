<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Managing GUI Program Complexity &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'thinkcspy';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "4.0.1";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'thinkcspy';
  eBookConfig.runestone_version = '3.0.5';
</script>
<style>
.navLink{
	display: block;
  position: static;
  font-size: 3rem;
}

@media (max-width: 600px) {
    /* Styling definitions for chevron function in bookfuncs.js */
	.navLink{
		display: block;
	}
}

#relations-next {
  float: right;
}

#relations-prev {
  float: left;
}

.navLink a {
	color: #999;
}
</style>

  </head>
  <body>



<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="managing-gui-program-complexity">
<h1>Managing GUI Program Complexity<a class="headerlink" href="#managing-gui-program-complexity" title="Permalink to this headline">¶</a></h1>
<p>As we explained in a previous lesson, GUI programs are best implemented as
Python classes because it allows you to manage the scope of the variables
in your GUI interface and callback functions. However, as GUI programs
become more complex, it can become overwhelming to implement
them as a single class. If a single class has over than 2,000 lines of code
it is probably getting too big to effectively manage. What are some ways
to effectively break down complex problems into manageable pieces?</p>
<p>One of the most widely used ways to break down a GUI program into manageable
pieces is called the Model-View-Controller software design pattern. This is
often abbreviated as <strong>MVC</strong> (Model-View-Controller). It divides a problem into
three pieces:</p>
<ul class="simple">
<li>Model - the <em>model</em> directly manages an application’s data and logic. If
the model changes, the <em>model</em> sends commands to update the user’s view.</li>
<li>View - the <em>view</em> presents the results of the application to the user. It is
in charge of all program output.</li>
<li>Controller - the <em>controller</em> accepts all user input and sends commands
to the model to change the model’s state.</li>
</ul>
<p>To says this in more general terms, the <em>controller</em> manages the applications
input, the <em>model</em> manages the application’s “state” and enforces application
consistency, and the <em>view</em> updates the output,
which is what the user sees on the screen. This is basically identical to
what all computer processing is composed of, which is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nb">input</span> <span class="o">--&gt;</span> <span class="n">processing</span> <span class="o">--&gt;</span> <span class="n">output</span>
</pre></div>
</div>
<p>The MVC design pattern renames the pieces and restricted which part of the code
can talk to the other parts of code. For MVC design:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">controller</span> <span class="p">(</span><span class="nb">input</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">model</span> <span class="p">(</span><span class="n">processing</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">view</span> <span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
<p>From the perspective of a GUI program, this means that the callback functions,
which are called when a user causes events, are the <em>controller</em>,
the <em>model</em> should perform all of the application logic, and the building and
modification of the GUI widgets composes the <em>view</em>.</p>
<p>Let’s develop a Whack-a-mole game program using this design strategy. Instead
of creating one Python Class for the entire game, the code will be developed as
a set of cooperating objects. So where should we begin? I would suggest that
the same stages of development we used in the previous lesson are a good
approach, but we will create a separate Python <code class="docutils literal"><span class="pre">class</span></code> for most of the
stages. Let’s walk through the code development.</p>
<div class="section" id="creating-the-view">
<h2>Creating the <em>View</em><a class="headerlink" href="#creating-the-view" title="Permalink to this headline">¶</a></h2>
<p>Let’s create a Python <code class="docutils literal"><span class="pre">class</span></code> that builds the user interface for a
Whack-a-mole game. The emphasis for this code is the creation of the widgets
we need to display to the user. For this version let’s allow the moles to
be placed at random locations inside the left frame. To do this we must
specify an exact size for the left frame. Otherwise the code is the same
as the previous version.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">Code</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-the-model">
<h2>Creating the <em>Model</em><a class="headerlink" href="#creating-the-model" title="Permalink to this headline">¶</a></h2>
<p>The <em>model</em> for this Whack-a-mole game is fairly simple. We need to keep
a counter for the number of user hits on moles that are visible, and a
counter for the number of times a user clicks on a mole that is not visible
(or just clicks on the left frame and not a mole widget.)</p>
</div>
<div class="section" id="creating-the-controller">
<h2>Creating the <em>Controller</em><a class="headerlink" href="#creating-the-controller" title="Permalink to this headline">¶</a></h2>
<p>The <em>controller</em> receives user events and sends messages to the <em>controller</em>
to update the <em>model</em>’s state. For our Whack-a-mole game, we have the following
four basic commands we need to send to the <em>model</em>:</p>
<ul class="simple">
<li>A user clicked on something on the left frame.</li>
<li>The user wants to start a new game. (The user clicked on the “Start” button.)</li>
<li>The user wants to stop playing a game. (The user clicked on the “Stop button.)</li>
<li>The user wants to quit the application. (The user clicked on the “Quit” button.)</li>
</ul>
<p>The <em>controller*</em> needs to recognize these events and send them to appropriate
methods in the <em>model</em>. The <em>controller</em> needs to define callback functions for
these events and register the appropriate event with the appropriate callback.
Therefore, the <em>controller</em> needs access to the widgets in the <em>view</em> object.
This can easily be accomplished by passing a reference to the <em>view</em> object
to the <em>controller</em> when it is created.
Summary
——-</p>
</div>
</div>


  
      


<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<p style="line-height: 2em">&nbsp;</p>

  </body>
</html>