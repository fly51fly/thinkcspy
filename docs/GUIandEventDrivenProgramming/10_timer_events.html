<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Timer Events &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'thinkcspy';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "4.0.1";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'thinkcspy';
  eBookConfig.runestone_version = '3.0.5';
</script>
<style>
.navLink{
	display: block;
  position: static;
  font-size: 3rem;
}

@media (max-width: 600px) {
    /* Styling definitions for chevron function in bookfuncs.js */
	.navLink{
		display: block;
	}
}

#relations-next {
  float: right;
}

#relations-prev {
  float: left;
}

.navLink a {
	color: #999;
}
</style>

  </head>
  <body>



<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="timer-events">
<h1>Timer Events<a class="headerlink" href="#timer-events" title="Permalink to this headline">¶</a></h1>
<p>GUI programs run an “event loop” that continuously receive events from the
operating system and “dispatches” those events to appropriate callback
functions. Nothing happens in a GUI program without an event. The application
logic for some problems requires that specific events happen at some
specific times. For this reason <code class="docutils literal"><span class="pre">tkinter</span></code> includes a feature to generate
events under software control. These are often refered to as <em>timer events</em>.</p>
<p>Every widget has an <code class="docutils literal"><span class="pre">after</span></code> method that will generate an event at a
specific time interval from the time it is called. The method takes at
least 2 arguments: the amount of time (in milliseconds) to wait before
generating the event, and the callback function to call after the time
has elapsed. In the example below, the function <code class="docutils literal"><span class="pre">a_callback_function</span></code>
will be called one second (1000 milliseconds) after the timer-event was created.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_callback_function</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;a_callback_function was called.&quot;</span><span class="p">)</span>

<span class="n">my_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">application_window</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">)</span>
<span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">a_callback_function</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="animations-and-repeated-tasks">
<h2>Animations and Repeated Tasks<a class="headerlink" href="#animations-and-repeated-tasks" title="Permalink to this headline">¶</a></h2>
<p>If you want a specific task to be repeated on a regular interval, then
the callback function that performs the task should create a new timer event
each time it is called. The following example creates a callback function
that is called 30 times per second. (Note that 1/30th of a second is 0.033
seconds, or 33 milliseconds.)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">animate</span><span class="p">():</span>
    <span class="c1"># Draw something</span>
    <span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="n">animate</span><span class="p">)</span>

<span class="n">my_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">application_window</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">)</span>
<span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="n">animate</span><span class="p">)</span>
</pre></div>
</div>
<p>A widget can have more than one timer event active at any time. In fact there
is no limit to the number of timer events you can create.</p>
<p>Note that you should never use a loop to repeat a task in a GUI program. If
you use a loop, the event-loop will be prevented from execution and no
events will be processed while the loop is running. Always use a timer event
for repeating a task, especially if a single execution of the task takes
a considerable amount of CPU time.</p>
</div>
<div class="section" id="canceling-timer-events">
<h2>Canceling Timer Events<a class="headerlink" href="#canceling-timer-events" title="Permalink to this headline">¶</a></h2>
<p>In some cases you may need to cancel a timer event to prevent it from
executing. This is straightforward using the <code class="docutils literal"><span class="pre">after_cancel</span></code> method.
Remember that a widget can have multiple active timers, so the
<code class="docutils literal"><span class="pre">after_cancel</span></code> method requires one parameter which specifies which timer
event to cancel. If you need to cancel an event, you must capture
the return value from the call to <code class="docutils literal"><span class="pre">after</span></code> when you created the event. Here
is an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">do_something</span><span class="p">():</span>
  <span class="c1"># Some processing</span>

<span class="n">my_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">application_window</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">)</span>
<span class="n">timer_object</span> <span class="o">=</span> <span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">do_something</span><span class="p">)</span>
<span class="o">...</span>

<span class="n">my_button</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="n">timer_object</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="multiple-parameters-to-timer-callbacks">
<h2>Multiple Parameters to Timer Callbacks<a class="headerlink" href="#multiple-parameters-to-timer-callbacks" title="Permalink to this headline">¶</a></h2>
<p>Timer callback function can have zero or more arguments passed to them when
they are called. You specify the arguments when you create the event. This
makes timer callback functions extremely flexible. Below is an example
of three different callback functions, each of which receives a different
number of arguments. You must specify the correct number of arguments for
the callback function when you create the timer event.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">task1</span><span class="p">():</span>
  <span class="c1"># Do some processing</span>

<span class="k">def</span> <span class="nf">task2</span><span class="p">(</span><span class="n">alpha</span><span class="p">):</span>
  <span class="c1"># Do some processing</span>

<span class="k">def</span> <span class="nf">task3</span><span class="p">(</span><span class="n">beta</span><span class="p">,</span> <span class="n">gamma</span><span class="p">):</span>
  <span class="c1"># Do some processing</span>

<span class="n">my_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">application_window</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">)</span>
<span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">task1</span><span class="p">)</span>
<span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="n">task2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>     <span class="c1"># 3 gets passed to the parameter alpha</span>
<span class="n">my_button</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="n">task3</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># a gets passed to the parameter beta</span>
                                    <span class="c1"># b gets passed to the parameter gamma</span>
</pre></div>
</div>
<span class="target" id="index-0"></span></div>
</div>


  
      


<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<p style="line-height: 2em">&nbsp;</p>

  </body>
</html>