<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>8.5. The 3n + 1 Sequence &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.6. Newton’s Method" href="Newton&#39;sMethod.html" />
    <link rel="prev" title="8.4. Randomly Walking Turtles" href="RandomlyWalkingTurtles.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'thinkcspy';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "4.0.1";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'thinkcspy';
  eBookConfig.runestone_version = '3.0.5';
</script>
<style>
.navLink{
	display: block;
  position: static;
  font-size: 3rem;
}

@media (max-width: 600px) {
    /* Styling definitions for chevron function in bookfuncs.js */
	.navLink{
		display: block;
	}
}

#relations-next {
  float: right;
}

#relations-prev {
  float: left;
}

.navLink a {
	color: #999;
}
</style>

  </head>
  <body>



<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="the-3n-1-sequence">
<h1>8.5. The 3n + 1 Sequence<a class="headerlink" href="#the-3n-1-sequence" title="Permalink to this headline">¶</a></h1>
<p>As another example of indefinite iteration, let’s look at a sequence that has fascinated mathematicians for many years.
The rule  for creating the sequence is to start from
some positive integer, call it <code class="docutils literal"><span class="pre">n</span></code>, and to generate
the next term of the sequence from <code class="docutils literal"><span class="pre">n</span></code>, either by halving <code class="docutils literal"><span class="pre">n</span></code>,
whenever <code class="docutils literal"><span class="pre">n</span></code> is even, or else by multiplying it by three and adding 1 when it is odd.  The sequence
terminates when <code class="docutils literal"><span class="pre">n</span></code> reaches 1.</p>
<p>This Python function captures that algorithm.  Try running this program several times supplying different values for n.</p>

<div data-childcomponent="ch07_indef1" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=ch07_indef1 data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     >
def seq3np1(n):
    """ Print the 3n+1 sequence from n, terminating when it reaches 1."""
    while n != 1:
        print(n)
        if n % 2 == 0:        # n is even
            n = n // 2
        else:                 # n is odd
            n = n * 3 + 1
    print(n)                  # the last print is 1

seq3np1(3)
</textarea>
</div>
<p>The condition for this loop is <code class="docutils literal"><span class="pre">n</span> <span class="pre">!=</span> <span class="pre">1</span></code>.  The loop will continue running until
<code class="docutils literal"><span class="pre">n</span> <span class="pre">==</span> <span class="pre">1</span></code> (which will make the condition false).</p>
<p>Each time through the loop, the program prints the value of <code class="docutils literal"><span class="pre">n</span></code> and then
checks whether it is even or odd using the remainder operator. If it is even, the value of <code class="docutils literal"><span class="pre">n</span></code> is divided
by 2 using integer division. If it is odd, the value is replaced by <code class="docutils literal"><span class="pre">n</span> <span class="pre">*</span> <span class="pre">3</span> <span class="pre">+</span> <span class="pre">1</span></code>.
Try some other examples.</p>
<p>Since <code class="docutils literal"><span class="pre">n</span></code> sometimes increases and sometimes decreases, there is no obvious
proof that <code class="docutils literal"><span class="pre">n</span></code> will ever reach 1, or that the program terminates. For some
particular values of <code class="docutils literal"><span class="pre">n</span></code>, we can prove termination. For example, if the
starting value is a power of two, then the value of <code class="docutils literal"><span class="pre">n</span></code> will be even each
time through the loop until it reaches 1.</p>
<p>You might like to have some fun and see if you can find a small starting
number that needs more than a hundred steps before it terminates.</p>
<div class="admonition-lab admonition">
<p class="first admonition-title">Lab</p>
<ul class="last simple">
<li><a class="reference external" href="../Labs/sequencelab.html">Experimenting with the 3n+1 Sequence</a> In this guided lab exercise we will try to learn more about this sequence.</li>
</ul>
</div>
<p>Particular values aside, the interesting question is whether we can prove that
this sequence terminates for <em>all</em> positive values of <code class="docutils literal"><span class="pre">n</span></code>. So far, no one has been able
to prove it <em>or</em> disprove it!</p>
<p>Think carefully about what would be needed for a proof or disproof of the hypothesis
<em>“All positive integers will eventually converge to 1”</em>.  With fast computers we have
been able to test every integer up to very large values, and so far, they all
eventually end up at 1.  But this doesn’t mean that there might not be some
as-yet untested number which does not reduce to 1.</p>
<p>You’ll notice that if you don’t stop when you reach one, the sequence gets into
its own loop:  1, 4, 2, 1, 4, 2, 1, 4, and so on.  One possibility is that there might
be other cycles that we just haven’t found.</p>
<div class="admonition-choosing-between-for-and-while admonition">
<p class="first admonition-title">Choosing between <code class="docutils literal"><span class="pre">for</span></code> and <code class="docutils literal"><span class="pre">while</span></code></p>
<p>Use a <code class="docutils literal"><span class="pre">for</span></code> loop if you know the maximum number of times that you’ll
need to execute the body.  For example, if you’re traversing a list of elements,
or can formulate a suitable call to <code class="docutils literal"><span class="pre">range</span></code>, then choose the <code class="docutils literal"><span class="pre">for</span></code> loop.</p>
<p>So any problem like “iterate this weather model run for 1000 cycles”, or “search this
list of words”, “check all integers up to 10000 to see which are prime” suggest that a <code class="docutils literal"><span class="pre">for</span></code> loop is best.</p>
<p>By contrast, if you are required to repeat some computation until some condition is
met, as we did in this 3n + 1 problem, you’ll need a <code class="docutils literal"><span class="pre">while</span></code> loop.</p>
<p class="last">As we noted before, the first case is called <strong>definite iteration</strong> — we have some definite bounds for
what is needed.   The latter case is called <strong>indefinite iteration</strong> — we are not sure
how many iterations we’ll need — we cannot even establish an upper bound!</p>
</div>
<p id="index-0"><strong>Check your understanding</strong></p>

            <div class="runestone">
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question7_4_1">
            iter-5-1: Consider the code that prints the 3n+1 sequence in ActiveCode box 6.  Will the while loop in this code always terminate for any positive integer value of n?
            <li data-component="answer"  id="test_question7_4_1_opt_a">Yes.</li><li data-component="feedback" id="test_question7_4_1_opt_a">The 3n+1 sequence has not been proven to terminate for all values of n.</li>
            
            <li data-component="answer"  id="test_question7_4_1_opt_b">No.</li><li data-component="feedback" id="test_question7_4_1_opt_b">It has not been disproven that the 3n+1 sequence will terminate for all values of n.  In other words, there might be some value for n such that this sequence does not terminate. We just have not found it yet.</li>
            
            <li data-component="answer" data-correct id="test_question7_4_1_opt_c">No one knows.</li><li data-component="feedback" id="test_question7_4_1_opt_c">That this sequence terminates for all values of n has not been proven or disproven so no one knows whether the while loop will always terminate or not.</li>
            

            </ul>
            </div>
            </div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 8.4. Randomly Walking Turtles' data-toggle="tooltip">
    <a href="RandomlyWalkingTurtles.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>

  <li id="relations-next" class="navLink" title='Next Section - 8.6. Newton’s Method' data-toggle="tooltip" >
    <a href="Newton&#39;sMethod.html" style="color:#999">
      Next Section - 8.6. Newton’s Method
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <li class="navLink" style="text-align: center" title='8. More About Iteration' data-toggle="tooltip" >
    <a href="../CMPS5P/l8.html">
      <i id="relationsNextIcon"  class='nextNav glyphicon glyphicon-chevron-up'></i>
    </a>
  </li>


<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<p style="line-height: 2em">&nbsp;</p>

  </body>
</html>